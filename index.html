<!DOCTYPE html>
<html lang="pl">
<head>
ย ย <meta charset="UTF-8">
ย ย <meta name="viewport" content="width=device-width, initial-scale=1.0">
ย ย <link rel="manifest" href="manifest.json">
ย ยย
ย ย <script src="suncalc.min.js"></script>

ย ย <title>Kompletne Centrum Informacyjne</title>
ย ยย
ย ย <style>
ย ย ย ย /* Caลa sekcja CSS pozostaje bez zmian - jest identycznaย
ย ย ย ย ย jak w Twoim pliku Zegar19seg.html 
ย ย ย ย */
ย ย ย ย :root {
ย ย ย ย ย ย --kolor-aktywny: #00FF00;
ย ย ย ย ย ย --kolor-tla: #1a1a1a;
ย ย ย ย ย ย --kolor-ramki: #000;
ย ย ย ย }
ย ย ย ย body {
ย ย ย ย ย ย display: flex;
ย ย ย ย ย ย justify-content: center;
ย ย ย ย ย ย align-items: center;
ย ย ย ย ย ย min-height: 100vh;
ย ย ย ย ย ย margin: 0;
ย ย ย ย ย ย background-color: var(--kolor-tla);
ย ย ย ย ย ย font-family: 'Courier New', Courier, monospace;
ย ย ย ย ย ย color: var(--kolor-aktywny);
ย ย ย ย ย ย padding: 20px;
ย ย ย ย ย ย box-sizing: border-box;ย
ย ย ย ย }
ย ย ย ย #kontener {
ย ย ย ย ย ย width: auto;
ย ย ย ย ย ย max-width: 1000px;ย
ย ย ย ย ย ย padding: 20px 30px;
ย ย ย ย ย ย border: 4px solid var(--kolor-aktywny);
ย ย ย ย ย ย border-radius: 10px;
ย ย ย ย ย ย background-color: var(--kolor-ramki);
ย ย ย ย ย ย display: flex;
ย ย ย ย ย ย flex-direction: column;
ย ย ย ย ย ย align-items: center;
ย ย ย ย ย ย text-align: center;
ย ย ย ย }
ย ย ย ย /* ... reszta stylรณw CSS (identyczna jak w Twoim pliku) ... */
ย ย ย ย #tabela-naglowek { width: 100%; border-collapse: collapse; margin-bottom: 10px; }
ย ย ย ย #tabela-naglowek td { padding: 5px; border: none; vertical-align: middle; }
ย ย ย ย .komorka-dzien { font-size: 3.5rem; text-transform: uppercase; letter-spacing: 3px; text-shadow: 0 0 5px var(--kolor-aktywny); width: 40%; text-align: center; vertical-align: middle; }
ย ย ย ย .komorka-info { font-size: 1.1rem; text-align: left; padding-left: 15px; border-left: 1px dotted #008000; padding-bottom: 5px; padding-top: 5px; }
ย ย ย ย .komorka-swieto { color: #ffff00; min-height: 1.4rem; line-height: 1.5; }
ย ย ย ย .komorka-imieniny { color: #00c000; line-height: 1.4; }
ย ย ย ย .komorka-imieniny span { color: var(--kolor-aktywny); }
ย ย ย ย #tabela-info-roczne { width: 100%; border-collapse: collapse; margin-bottom: 10px; font-size: 1.1rem; color: #00c000; }
ย ย ย ย #tabela-info-roczne td { width: 50%; padding: 3px 0; border: none; vertical-align: top; }
ย ย ย ย #tabela-info-roczne .max { color: #008000; }
ย ย ย ย #tabela-info-roczne span span { color: var(--kolor-aktywny); font-weight: bold; }
ย ย ย ย #tabela-info-roczne td:nth-child(1) { text-align: right; padding-right: 10px; }
ย ย ย ย #tabela-info-roczne td:nth-child(2) { text-align: left; padding-left: 10px; border-left: 1px dotted #008000; }
ย ย ย ย #zegar-segmentowy-kontener { display: flex; flex-direction: column; align-items: center; margin-bottom: 10px; width: 100%; overflow-x: auto; }
ย ย ย ย .kontener-linii { display: flex; align-items: center; justify-content: center; flex-wrap: nowrap; white-space: nowrap; }
ย ย ย ย .cyfra { position: relative; width: 30px; height: 50px; margin: 0 2px; flex-shrink: 0; }
ย ย ย ย .segment { position: absolute; background-color: var(--kolor-aktywny); opacity: 0.1; transition: opacity 0.2s; border-radius: 2px; box-shadow: 0 0 5px var(--kolor-aktywny); }
ย ย ย ย .segment.active { opacity: 1; }
ย ย ย ย .segment.a, .segment.d, .segment.g { width: 20px; height: 4px; left: 5px; }
ย ย ย ย .segment.b, .segment.c, .segment.e, .segment.f { width: 4px; height: 20px; }
ย ย ย ย .segment.a { top: 0; }
ย ย ย ย .segment.d { top: 46px; }
ย ย ย ย .segment.g { top: 23px; }
ย ย ย ย .segment.b { top: 5px; left: 26px; }
ย ย ย ย .segment.c { top: 25px; left: 26px; }
ย ย ย ย .segment.f { top: 5px; left: 0; }
ย ย ย ย .segment.e { top: 25px; left: 0; }
ย ย ย ย .separator { height: 50px; position: relative; display: flex; flex-direction: column; justify-content: center; align-items: center; flex-shrink: 0; }
ย ย ย ย .separator-dwukropek { width: 20px; }
ย ย ย ย .separator-dwukropek::before, .separator-dwukropek::after { content: ''; display: block; width: 4px; height: 4px; background-color: var(--kolor-aktywny); border-radius: 50%; box-shadow: 0 0 5px var(--kolor-aktywny); transition: opacity 0.1s; }
ย ย ย ย .separator-dwukropek::before { margin-bottom: 8px; margin-top: 8px; }
ย ย ย ย .separator-dwukropek.wygaszony::before, .separator-dwukropek.wygaszony::after { opacity: 0.1; }
ย ย ย ย .separator-kreska { width: 30px; display: flex; justify-content: center; align-items: center; }
ย ย ย ย .separator-kreska::before { content: ''; display: block; width: 20px; height: 4px; background-color: var(--kolor-aktywny); box-shadow: 0 0 5px var(--kolor-aktywny); border-radius: 2px; }
ย ย ย ย .separator-spacer { width: 25px; height: 50px; flex-shrink: 0; }
ย ย ย ย #tabela-slonce { width: auto; border-collapse: collapse; }
ย ย ย ย #tabela-slonce td { padding: 4px 8px; border: none; text-align: left; font-size: 1.3rem; color: #00c000; vertical-align: top; }
ย ย ย ย #tabela-slonce span { font-weight: bold; color: var(--kolor-aktywny); }
ย ย ย ย #tabela-slonce #odliczanie-slonca { font-size: 1.3rem; color: #ffff00; text-shadow: 0 0 5px #ffff00; font-weight: normal; }
ย ย ย ย #astro { font-size: 1.3rem; color: #00c000; width: 100%; display: flex; justify-content: center; align-items: center; flex-wrap: wrap; margin-top: 10px; }
ย ย ย ย #astro span { color: var(--kolor-aktywny); }
ย ย ย ย .astro-item { display: flex; align-items: center; margin: 5px 0; }
ย ย ย ย .zodiak-emoji { font-size: 2.5rem; margin-right: 10px; text-shadow: none; width: 40px; text-align: center; }
ย ย ย ย #faza-ksiezyca-obraz { font-size: 2.5rem; margin-right: 10px; text-shadow: none; width: 40px; text-align: center; }
ย ย ย ย .astro-separator { margin: 0 15px; font-size: 2rem; color: #008000; }
ย ย ย ย #astro-countdown { font-size: 1.1rem; color: #008000; width: 100%; display: flex; justify-content: center; align-items: center; flex-wrap: wrap; }
ย ย ย ย #astro-countdown > span { color: #008000; margin: 3px 0; }
ย ย ย ย #astro-countdown span span { color: var(--kolor-aktywny); font-weight: bold; }
ย ย ย ย .astro-separator-maly { margin: 0 10px; font-size: 1.1rem; color: #008000; }

ย ย ย ย /* --- SEKCJA RESPONSYWNA DLA TELEFONU W POZIOMIE ---ย
ย ย ย ย ย
ย ย ย ย ยKOMENTARZ (DLACZEGO?): Poniลผszy blok @media to "magiczna" reguลa,
ย ย ย ย ยktรณra aktywuje zawarte w niej style CSS tylko wtedy, gdy
ย ย ย ย ยurzฤdzenie jest w orientacji poziomej (landscape) ORAZ
ย ย ย ย ยjego wysokoลฤ jest mniejsza niลผ 500 pikseli.
ย ย ย ย ย
ย ย ย ย ยTo pozwala nam precyzyjnie namierzyฤ telefony trzymane bokiem,
ย ย ย ย ยignorujฤc jednoczeลnie tablety i monitory komputerowe.
ย ย ย ย */
ย ย ย ย @media (orientation: landscape) and (max-height: 500px) {
ย ย ย ย ย ยย
ย ย ย ย ย ย /* KOMENTARZ (DLACZEGO?): W trybie peลnoekranowym nie chcemy ลผadnych
ย ย ย ย ย ย ยmarginesรณw ani paddingu na samym 'body'.ย
ย ย ย ย ย ย ยUsuwamy 'padding: 20px', ktรณry byล zdefiniowany w gลรณwnych
ย ย ย ย ย ย ยstylach, aby nasz kontener mรณgล dotykaฤ krawฤdzi ekranu.
ย ย ย ย ย ย */
ย ย ย ย ย ย body {
ย ย ย ย ย ย ย ย padding: 0;
ย ย ย ย ย ย }
ย ย ย ย ย ยย
ย ย ย ย ย ย /* KOMENTARZ (DLACZEGO?): To jest gลรณwna reguลa.ย
ย ย ย ย ย ย ยRozciฤgamy kontener na 100% szerokoลci i wysokoลci ekranu.
ย ย ย ย ย ย */
ย ย ย ย ย ย #kontener {
ย ย ย ย ย ย ย ย /* Ustawia szerokoลฤ na 100% szerokoลci okna przeglฤdarki */
ย ย ย ย ย ย ย ย width: 100vw;ย
ย ย ย ย ย ย ย ย /* Ustawia wysokoลฤ na 100% wysokoลci okna przeglฤdarki */
ย ย ย ย ย ย ย ย height: 100vh;
ย ย ย ย ย ย ย ยย
ย ย ย ย ย ย ย ย /* Usuwa limit 'max-width: 1000px', ktรณry przeszkadzaลby
ย ย ย ย ย ย ย ย ย ยna szerszych telefonach. */
ย ย ย ย ย ย ย ย max-width: none;
ย ย ย ย ย ย ย ยย
ย ย ย ย ย ย ย ย /* Usuwa zaokrฤglone rogi, ktรณre wyglฤdaลyby ลบle
ย ย ย ย ย ย ย ย ย ยprzy krawฤdziach ekranu. */
ย ย ย ย ย ย ย ย border-radius: 0;
ย ย ย ย ย ย ย ยย
ย ย ย ย ย ย ย ย /* KOMENTARZ (DLACZEGO?): To jest kluczowa "magiczna" wลaลciwoลฤ.
ย ย ย ย ย ย ย ย ยMรณwi ona przeglฤdarce, aby 'border' (4px) i 'padding' (10px)
ย ย ย ย ย ย ย ย ยzostaลy wliczone DO WEWNฤTRZ wymiarรณw 100vw/100vh,ย
ย ย ย ย ย ย ย ย ยzamiast dodawane na zewnฤtrz. Bez tego kontener
ย ย ย ย ย ย ย ย ยbyลby za duลผy i pojawiลyby siฤ paski przewijania.
ย ย ย ย ย ย ย ย */
ย ย ย ย ย ย ย ย box-sizing: border-box;
ย ย ย ย ย ย ย ยย
ย ย ย ย ย ย ย ย /* Zmniejszamy wewnฤtrzne odstฤpy (padding), aby zmieลciฤ
ย ย ย ย ย ย ย ย ย ยwiฤcej treลci na bardzo niskim ekranie. */
ย ย ย ย ย ย ย ย padding: 10px 15px;
ย ย ย ย ย ย ย ยย
ย ย ย ย ย ย ย ย /* Pozwala na przewijanie zawartoลci w pionie, jeลli
ย ย ย ย ย ย ย ย ย ยtreลฤ mimo wszystko siฤ nie zmieลci (np. na bardzo
ย ย ย ย ย ย ย ย ย ยmaลym telefonie). */
ย ย ย ย ย ย ย ย overflow-y: auto;
ย ย ย ย ย ย }
ย ย ย ย ย ยย
ย ย ย ย ย ย /* --- ZMNIEJSZENIE CZCIONEK I ELEMENTรW --- */
ย ย ย ย ย ยย
ย ย ย ย ย ย /* KOMENTARZ (DLACZEGO?): Ekran w poziomie jest bardzo niski,
ย ย ย ย ย ย ยwiฤc musimy drastycznie zmniejszyฤ czcionki, aby
ย ย ย ย ย ย ยzapobiec "rozpychaniu" ukลadu.
ย ย ย ย ย ย */
ย ย ย ย ย ยย
ย ย ย ย ย ย /* Zmniejszamy duลผy napis z dniem tygodnia */
ย ย ย ย ย ย .komorka-dzien {
ย ย ย ย ย ย ย ย font-size: 2.5rem; /* Byลo 3.5rem */
ย ย ย ย ย ย ย ย letter-spacing: 2px;
ย ย ย ย ย ย ย ย width: 35%; /* Dajemy trochฤ mniej miejsca */
ย ย ย ย ย ย }
ย ย ย ย ย ยย
ย ย ย ย ย ย /* Zmniejszamy napisy "Imieniny:", "(ลwiฤto...)" */
ย ย ย ย ย ย .komorka-info {
ย ย ย ย ย ย ย ย font-size: 0.95rem; /* Byลo 1.1rem */
ย ย ย ย ย ย ย ย line-height: 1.3;
ย ย ย ย ย ย ย ย padding-left: 10px;
ย ย ย ย ย ย }

ย ย ย ย ย ย /* Zmniejszamy napisy "Dzieล roku:", "Tydzieล:" itd. */
ย ย ย ย ย ย #tabela-info-roczne {
ย ย ย ย ย ย ย ย font-size: 0.95rem; /* Byลo 1.1rem */
ย ย ย ย ย ย ย ย margin-bottom: 5px;
ย ย ย ย ย ย }
ย ย ย ย ย ยย
            /* KOMENTARZ (POPRAWKA): To jest miejsce, ktรณre naprawiamy 
              zgodnie z Twojฤ uwagฤ. 
              Zamiast ujemnego marginesu '-3px', ktรณry sklejaล cyfry,
              ustawiamy maลy, staลy margines '1px'.
              Daje to ลฤcznie 2px odstฤpu miฤdzy elementami (1px z lewej
              i 1px z prawej), co zapewnia czytelnoลฤ po przeskalowaniu.
            */
ย ย ย ย ย ย .cyfra, .separator {
ย ย ย ย ย ย ย ย transform: scale(0.8);
ย ย ย ย ย ย ย ย margin: 0 1px; /* BYลO: margin: 0 -3px; */
ย ย ย ย ย ย }

ย ย ย ย ย ย /* Zmniejszamy teลผ pustฤ przestrzeล miฤdzy datฤ a godzinฤ */
ย ย ย ย ย ย .separator-spacer {
ย ย ย ย ย ย ย ย width: 15px; /* Byลo 25px */
ย ย ย ย ย ย }
ย ย ย ย ย ยย
ย ย ย ย ย ย /* Zmniejszamy odstฤp pod zegarem */
ย ย ย ย ย ย #zegar-segmentowy-kontener {
ย ย ย ย ย ย ย ย margin-bottom: 5px;
ย ย ย ย ย ย }

ย ย ย ย ย ย /* Zmniejszamy czcionki dla sekcji Sลoลca */
ย ย ย ย ย ย #tabela-slonce, #tabela-slonce #odliczanie-slonca {
ย ย ย ย ย ย ย ย font-size: 1.0rem; /* Byลo 1.3rem */
ย ย ย ย ย ย }
ย ย ย ย ย ย #tabela-slonce td {
ย ย ย ย ย ย ย ย padding: 2px 5px;
ย ย ย ย ย ย }
ย ย ย ย ย ยย
ย ย ย ย ย ย /* Zmniejszamy sekcjฤ Astro (Zodiak, Ksiฤลผyc) */
ย ย ย ย ย ย #astro {
ย ย ย ย ย ย ย ย font-size: 1.0rem; /* Byลo 1.3rem */
ย ย ย ย ย ย ย ย margin-top: 5px;
ย ย ย ย ย ย }
ย ย ย ย ย ย .zodiak-emoji, #faza-ksiezyca-obraz {
ย ย ย ย ย ย ย ย font-size: 2.0rem; /* Byลo 2.5rem */
ย ย ย ย ย ย ย ย margin-right: 5px;
ย ย ย ย ย ย }
ย ย ย ย ย ยย
ย ย ย ย ย ย /* Zmniejszamy dolne odliczanie */
ย ย ย ย ย ย #astro-countdown {
ย ย ย ย ย ย ย ย font-size: 0.9rem; /* Byลo 1.1rem */
ย ย ย ย ย ย ย ย /* Ukrywamy separator na bardzo wฤskich ekranach */
ย ย ย ย ย ย ย ย flex-direction: column;ย
ย ย ย ย ย ย }
ย ย ย ย ย ย .astro-separator-maly {
ย ย ย ย ย ย ย ย display: none; /* Ukrywamy | miฤdzy odliczaniem */
ย ย ย ย ย }
ย ย ย ย }
ย ย ย ย /* --- SEKCJA BLOKADY ORIENTACJI --- */

ย ย ย ย /* KOMENTARZ (DLACZEGO?): Domyลlnie ukrywamy komunikat
ย ย ย ย ย o obrรณcenie telefonu.
ย ย ย ย */
ย ย ย ย #obroc-urzadzenie {
ย ย ย ย ย ย display: none;
ย ย ย ย ย ย position: fixed;
ย ย ย ย ย ย top: 0;
ย ย ย ย ย ย left: 0;
ย ย ย ย ย ย width: 100vw;
ย ย ย ย ย ย height: 100vh;
ย ย ย ย ย ย background-color: var(--kolor-ramki);
ย ย ย ย ย ย color: var(--kolor-aktywny);
ย ย ย ย ย ย z-index: 9999;
ย ย ย ย ย ย flex-direction: column;
ย ย ย ย ย ย justify-content: center;
ย ย ย ย ย ย align-items: center;
ย ย ย ย ย ย text-align: center;
ย ย ย ย ย ย font-size: 1.5rem;
ย ย ย ย }
ย ย ย ย #obroc-urzadzenie .ikona {
ย ย ย ย ย ย font-size: 5rem;
ย ย ย ย ย ย margin-bottom: 20px;
ย ย ย ย ย ย /* Prosta animacja obrotu */
ย ย ย ย ย ย animation: obrot-ikony 2s linear infinite;
ย ย ย ย }
ย ย ย ยย
ย ย ย ย @keyframes obrot-ikony {
ย ย ย ย ย ย from { transform: rotate(0deg); }
ย ย ย ย ย ย to { transform: rotate(360deg); }
ย ย ย ย }

ย ย ย ย /* KOMENTARZ (DLACZEGO?): To jest "magiczna" reguลa blokujฤca.
ย ย ย ย ย Aktywuje siฤ, gdy urzฤdzenie jest w orientacji pionowej.
ย ย ย ย */
ย ย ย ย @media (orientation: portrait) {
ย ย ย ย ย ย /* 1. Ukrywamy gลรณwnฤ treลฤ aplikacji */
ย ย ย ย ย ย #kontener {
ย ย ย ย ย ย ย ย display: none;
ย ย ย ย ย ย }
ย ย ย ย ย ยย
ย ย ย ย ย ย /* 2. Pokazujemy (jako flex) nasz komunikat blokady */
ย ย ย ย ย ย #obroc-urzadzenie {
ย ย ย ย ย ย ย ย display: flex;
ย ย ย ย ย ย }
ย ย ย ย }
ย ย </style>
</head>
<body>
ย ย <div id="obroc-urzadzenie">
ย ย ย ย <div class="ikona">๐ฑ๐</div>
ย ย ย ย <p>Proszฤ obrรณciฤ urzฤdzenie do pozycji poziomej.</p>
ย ย </div>

ย ย <div id="kontener">
ย ย ย ย ย ย ย ย <table id="tabela-naglowek">
ย ย ย ย ย ย <tr>
ย ย ย ย ย ย ย ย <td class="komorka-dzien" rowspan="2">
ย ย ย ย ย ย ย ย ย ย <span id="dzien">...</span>
ย ย ย ย ย ย ย ย </td>
ย ย ย ย ย ย ย ย <td class="komorka-info komorka-swieto">
ย ย ย ย ย ย ย ย ย ย <span id="swieto">...</span>
ย ย ย ย ย ย ย ย </td>
ย ย ย ย ย ย </tr>
ย ย ย ย ย ย <tr>
ย ย ย ย ย ย ย ย <td class="komorka-info komorka-imieniny">
ย ย ย ย ย ย ย ย ย ย Imieniny: <span id="imiona">...</span>
ย ย ย ย ย ย ย ย </td>
ย ย ย ย ย ย </tr>
ย ย ย ย </table>

ย ย ย ย <table id="tabela-info-roczne">
ย ย ย ย ย ย <tr>
ย ย ย ย ย ย ย ย <td>
ย ย ย ย ย ย ย ย ย ย Dzieล roku: <span><span id="dzien-roku">...</span><span class="max">/<span id="max-dzien-roku">...</span></span></span>
ย ย ย ย ย ย ย ย </td>
ย ย ย ย ย ย ย ย <td>
ย ย ย ย ย ย ย ย ย ย Tydzieล: <span><span id="tydzien-roku">...</span><span class="max">/<span id="max-tydzien-roku">...</span></span></span>
ย ย ย ย ย ย ย ย </td>
ย ย ย ย ย ย </tr>
ย ย ย ย ย ย <tr>
ย ย ย ย ย ย ย ย <td>
ย ย ย ย ย ย ย ย ย ย Sylwester za: <span><span id="dni-do-konca">...</span></span> dni
ย ย ย ย ย ย ย ย </td>
ย ย ย ย ย ย ย ย <td>
ย ย ย ย ย ย ย ย ย ย Kwartaล: <span><span id="kwartal">...</span><span class="max">/4</span></span>
ย ย ย ย ย ย ย ย </td>
ย ย ย ย ย ย </tr>
ย ย ย ย </table>
ย ย ย ยย
ย ย ย ย <div id="zegar-segmentowy-kontener"></div>
ย ย ย ยย
ย ย ย ยย
ย ย ย ย <table id="tabela-slonce">
ย ย ย ย ย ย <tr>
ย ย ย ย ย ย ย ย <td>
ย ย ย ย ย ย ย ย ย ย โ๏ธ Wschรณd: <span id="wschod">...</span>
ย ย ย ย ย ย ย ย </td>
ย ย ย ย ย ย ย ย <td>
ย ย ย ย ย ย ย ย ย ย Dลugoลฤ dnia: <span id="czas-dnia">...</span>
ย ย ย ย ย ย ย ย </td>
ย ย ย ย ย ย </tr>
ย ย ย ย ย ย <tr>
ย ย ย ย ย ย ย ย <td>
ย ย ย ย ย ย ย ย ย ย ๐ Zachรณd: <span id="zachod">...</span>
ย ย ย ย ย ย ย ย </td>
ย ย ย ย ย ย ย ย <td id="odliczanie-slonca">
ย ย ย ย ย ย ย ย ย ย ลadowanie...
ย ย ย ย ย ย ย ย </td>
ย ย ย ย ย ย </tr>
ย ย ย ย </table>

ย ย ย ย <div id="astro">
ย ย ย ย ย ย <div class="astro-item">
ย ย ย ย ย ย ย ย <span id="zodiak-obraz" class="zodiak-emoji">...</span>
ย ย ย ย ย ย ย ย <span>Znak: <span id="zodiak-nazwa">...</span></span>
ย ย ย ย ย ย </div>
ย ย ย ย ย ย <span class="astro-separator">|</span>
ย ย ย ย ย ย <div class="astro-item">
ย ย ย ย ย ย ย ย <span id="faza-ksiezyca-obraz">...</span>
ย ย ย ย ย ย ย ย <span>
ย ย ย ย ย ย ย ย ย ย Faza (<span id="faza-ksiezyca-numer">...</span>/8):ย
ย ย ย ย ย ย ย ย ย ย <span id="faza-ksiezyca-nazwa">...</span>
ย ย ย ย ย ย ย ย </span>
ย ย ย ย ย ย </div>
ย ย ย ย </div>
ย ย ย ยย
ย ย ย ย <div id="astro-countdown" class="astro-countdown">
ย ย ย ย ย ย <span>
ย ย ย ย ย ย ย ย Zmiana zodiaku na: <span id="zodiak-countdown-nazwa">...</span>ย
ย ย ย ย ย ย ย ย za: <span id="zodiak-countdown-dni">...</span> dni
ย ย ย ย ย ย </span>
ย ย ย ย ย ย <span class="astro-separator-maly">|</span>
ย ย ย ย ย ย <span>
ย ย ย ย ย _Peลnia ksiฤลผyca za: <span id="pelnia-countdown-dni">...</span> dni
ย ย ย ย ย ย </span>
ย ย ย ย </div>
ย ย </div>

ย ย <script src="imieniny.js"></script>
ย ย <script src="swieta.js"></script>

ย ย <script>
ย ย ย ย /* Caลy gลรณwny skrypt JS pozostaje bez zmian */
ย ย ย ยย
ย ย ย ย // --- SEKCJA KONFIGURACYJNA I STAลE ---
ย ย ย ย const DNI_TYGODNIA = ['Niedziela', 'Poniedziaลek', 'Wtorek', 'ลroda', 'Czwartek', 'Piฤtek', 'Sobota'];
ย ย ย ย const PABIANICE_LAT = 51.6567;
ย ย ย ย const PABIANICE_LON = 19.3578;
ย ย ย ย const SWIETA_STALE = {
ย ย ย ย ย ย '01-01': 'Nowy Rok', '01-06': 'Trzech Krรณli', '05-01': 'ลwiฤto Pracy',
ย ย ย ย ย ย '05-03': 'ลwiฤto Konstyt. 3 Maja', '08-15': 'ลwiฤto Wojska Polskiego, Wniebowziฤcie NMP',
ย ย ย ย ย ย '11-01': 'Wszystkich ลwiฤtych', '11-11': 'Narodowe ลwiฤto Niepodlegลoลci',
ย ย ย ย ย ย '12-25': 'Boลผe Narodzenie (I dzieล)', '12-26': 'Boลผe Narodzenie (II dzieล)'
ย ย ย ย };
ย ย ย ย const ZNAKI_ZODIAKU = [
ย ย ย ย ย ย { nazwa: 'Kozioroลผec', start: [12, 22], emoji: 'โ' },
ย ย ย ย ย ย { nazwa: 'Wodnik', start: [1, 20], emoji: 'โ' },
ย ย ย ย ย ย { nazwa: 'Ryby', start: [2, 19], emoji: 'โ' },
ย ย ย ย ย ย { nazwa: 'Baran', start: [3, 21], emoji: 'โ' },
ย ย ย ย ย ย { nazwa: 'Byk', start: [4, 20], emoji: 'โ' },
ย ย ย ย ย ย { nazwa: 'Bliลบniฤta', start: [5, 21], emoji: 'โ' },
ย ย ย ย ย ย { nazwa: 'Rak', start: [6, 21], emoji: 'โ' },
ย ย ย ย ย ย { nazwa: 'Lew', start: [7, 23], emoji: 'โ' },
ย ย ย ย ย ย { nazwa: 'Panna', start: [8, 23], emoji: 'โ' },
ย ย ย ย ย ย { nazwa: 'Waga', start: [9, 23], emoji: 'โ' },
ย ย ย ย ย ย { nazwa: 'Skorpion', start: [10, 23], emoji: 'โ' },
ย ย ย ย ย ย { nazwa: 'Strzelec', start: [11, 22], emoji: 'โ' }
ย ย ย ย ];
ย ย ย ย const MAPA_SEGMENTOW = {
ย ย ย ย ย ย '0': ['a', 'b', 'c', 'd', 'e', 'f'],
ย ย ย ย ย ย '1': ['b', 'c'],
ย ย ย ย ย ย '2': ['a', 'b', 'g', 'e', 'd'],
ย ย ย ย ย ย '3': ['a', 'b', 'g', 'c', 'd'],
ย ย ย ย ย ย '4': ['f', 'g', 'b', 'c'],
ย ย ย ย ย ย '5': ['a', 'f', 'g', 'c', 'd'],
ย ย ย ย ย ย '6': ['a', 'f', 'g', 'e', 'c', 'd'],
ย ย ย ย ย ย '7': ['a', 'b', 'c'],
ย ย ย ย ย ย '8': ['a', 'b', 'c', 'd', 'e', 'f', 'g'],
ย ย ย ย ย ย '9': ['a', 'b', 'c', 'd', 'f', 'g'],
ย ย ย ย ย ย ' ': []
ย ย ย ย };
ย ย ย ย const STRUKTURA_DATY = [
ย ย ย ย ย ย { typ: 'cyfra', id: 'data-d1' }, { typ: 'cyfra', id: 'data-d2' },
ย ย ย ย ย ย { typ: 'separator', 'rodzaj': 'kreska' },
ย ย ย ย ย ย { typ: 'cyfra', id: 'data-m1' }, { typ: 'cyfra', id: 'data-m2' },
ย ย ย ย ย ย { typ: 'separator', 'rodzaj': 'kreska' },
ย ย ย ย ย ย { typ: 'cyfra', id: 'data-r1' }, { typ: 'cyfra', id: 'data-r2' },
ย ย ย ย ย ย { typ: 'cyfra', id: 'data-r3' }, { typ: 'cyfra', id: 'data-r4' }
ย ย ย ย ];
ย ย ย ย const STRUKTURA_CZASU = [
ย ย ย ย ย ย { typ: 'cyfra', id: 'czas-h1' }, { typ: 'cyfra', id: 'czas-h2' },
ย ย ย ย ย ย { typ: 'separator', 'rodzaj': 'dwukropek' },
ย ย ย ย ย ย { typ: 'cyfra', id: 'czas-m1' }, { typ: 'cyfra', id: 'czas-m2' },
ย ย ย ย ย ย { typ: 'separator', 'rodzaj': 'dwukropek' },
ย ย ย ย ย ย { typ: 'cyfra', id: 'czas-s1' }, { typ: 'cyfra', id: 'czas-s2' }
ย ย ย ย ];
ย ย ย ยย
ย ย ย ย // --- ZMIENNE GLOBALNE (CACHE) ---
ย ย ย ย window.ostatniDzien = null;ย
ย ย ย ย window.wschodDzis = null;
ย ย ย ย window.zachodDzis = null;
ย ย ย ย window.wschodJutro = null;
ย ย ย ย window.swietaRuchomeCache = {};

ย ย ย ย // --- FUNKCJE POMOCNICZE ---
ย ย ย ย /* ... caลy (dลugi) blok funkcji pomocniczych ... */
ย ย ย ย function stworzCyfre(id) {
ย ย ย ย ย ย const cyfraDiv = document.createElement('div');
ย ย ย ย ย ย cyfraDiv.classList.add('cyfra');
ย ย ย ย ย ย cyfraDiv.id = id;
ย ย ย ย ย ย const segmenty = ['a', 'b', 'c', 'd', 'e', 'f', 'g'];
ย ย ย ย ย ย segmenty.forEach(seg => {
ย ย ย ย ย ย ย ย const segmentDiv = document.createElement('div');
ย ย ย ย ย ย ย ย segmentDiv.classList.add('segment', seg);
ย ย ย ย ย ย ย ย cyfraDiv.appendChild(segmentDiv);
ย ย ย ย ย ย });
ย ย ย ย ย ย return cyfraDiv;
ย ย ย ย }
ย ย ย ย function stworzSeparator(rodzaj) {
ย ย ย ย ย ย const separatorDiv = document.createElement('div');
ย ย ย ย ย ย separatorDiv.classList.add('separator', `separator-${rodzaj}`);
ย ย ย ย ย ย if (rodzaj === 'dwukropek') {
ย ย ย ย ย ย ย ย separatorDiv.classList.add('mrugajacy');
ย ย ย ย ย ย }
ย ย ย ย ย ย return separatorDiv;
ย ย ย ย }
ย ย ย ย function inicjalizujZegar() {
ย ย ย ย ย ย const kontenerGlowny = document.getElementById('zegar-segmentowy-kontener');
ย ย ย ย ย ย if (!kontenerGlowny) return;
ย ย ย ย ย ย const kontenerLinii = document.createElement('div');
ย ย ย ย ย ย kontenerLinii.classList.add('kontener-linii');
ย ย ย ย ย ย STRUKTURA_DATY.forEach(el => {
ย ย ย ย ย ย ย ย if (el.typ === 'cyfra') {
ย ย ย ย ย ย ย ย ย ย kontenerLinii.appendChild(stworzCyfre(el.id));
ย ย ย ย ย ย ย ย } else if (el.typ === 'separator') {
ย ย ย ย ย ย ย ย ย ย kontenerLinii.appendChild(stworzSeparator(el.rodzaj));
ย ย ย ย ย ย ย ย }
ย ย ย ย ย ย });
ย ย ย ย ย ย const spacer = document.createElement('div');
ย ย ย ย ย ย spacer.classList.add('separator-spacer');ย
ย ย ย ย ย ย kontenerLinii.appendChild(spacer);
ย ย ย ย ย ย STRUKTURA_CZASU.forEach(el => {
ย ย ย ย ย ย ย ย if (el.typ === 'cyfra') {
ย ย ย ย ย ย ย ย ย ย kontenerLinii.appendChild(stworzCyfre(el.id));
ย ย ย ย ย ย ย ย } else if (el.typ === 'separator') {
ย ย ย ย ย ย ย ย ย ย kontenerLinii.appendChild(stworzSeparator(el.rodzaj));
section>
ย ย ย ย ย ย ย ย }
ย ย ย ย ย ย });
ย ย ย ย ย ย kontenerGlowny.appendChild(kontenerLinii);
ย ย ย ย }
ย ย ย ย function ustawCyfre(elementId, cyfra) {
ย ย ย ย ย ย const el = document.getElementById(elementId);
ย ย ย ย ย _if (!el) return;
ย ย ย ย ย ย const cyfraStr = String(cyfra);ย
ย ย ย ย ย ย const segmentyDoWlaczenia = MAPA_SEGMENTOW[cyfraStr];
ย ย ย ย ย ย el.querySelectorAll('.segment').forEach(s => s.classList.remove('active'));
ย ย ย ย ย ย if (segmentyDoWlaczenia) {
ย ย ย ย ย ย ย ย segmentyDoWlaczenia.forEach(seg => {
ย ย ย ย ย ย ย ย ย ย const segmentElement = el.querySelector(`.segment.${seg}`);
ย ย ย ย ย ย ย ย ย ย if (segmentElement) {
ย ย ย ย ย ย ย ย ย ย ย ย segmentElement.classList.add('active');
ย ย ย ย ย ย ย ย ย ย }
ย ย ย ย ย ย ย ย });
ย ย ย ย ย ย }
ย ย ย ย }
ย ย ย ย function formatujLiczbe(liczba) { return String(liczba).padStart(2, '0'); }
ย ย ย ย function formatujGodzine(data) {
ย ย ย ย ย ย if (data && typeof data.getHours === 'function') {
ย ย ย ย ย ย ย ย const godzina = formatujLiczbe(data.getHours());
ย ย ย ย ย ย ย ย const minuta = formatujLiczbe(data.getMinutes());
ย ย ย ย ย ย ย ย return `${godzina}:${minuta}`;
ย ย ย ย ย ย }
ย ย ย ย ย ย return 'b/d';
ย ย ย ย }
ย ย ย ย function obliczDzienRoku(data) {
ย ย ย ย ย ย const startRoku = new Date(data.getFullYear(), 0, 0);
ย ย ย ย ย ย const diff = data - startRoku;
ย ย ย ย ย ย const jedenDzienMs = 1000 * 60 * 60 * 24;
ย ย ย ย ย ย return Math.floor(diff / jedenDzienMs);
ย ย ย ย }
ย ย ย ย function obliczNumerTygodnia(d) {
ย ย ย ย ย ย d = new Date(Date.UTC(d.getFullYear(), d.getMonth(), d.getDate()));
ย ย ย ย ย ย d.setUTCDate(d.getUTCDate() + 4 - (d.getUTCDay() || 7));
ย ย ย ย ย ย var yearStart = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));
ย ย ย ย ย ย var weekNo = Math.ceil((((d - yearStart) / 86400000) + 1) / 7);
ย ย ย ย ย ย return weekNo;
ย ย ย ย }
ย ย ย ย function obliczKwartal(data) {
ย ย ย ย ย ย const miesiac = data.getMonth();ย
ย ย ย ย ย ย return Math.floor(miesiac / 3) + 1;
ย ย ย ย }
ย ย ย ย function formatujDelteCzasu(ms) {
ย ย ย ย ย ย let totalSeconds = Math.floor(Math.max(ms, 0) / 1000);
ย ย ย ย ย ย let hours = Math.floor(totalSeconds / 3600);
ย ย ย ย ย ย totalSeconds %= 3600;
ย ย ย ย ย ย let minutes = Math.floor(totalSeconds / 60);
section>
ย ย ย ย ย ย let seconds = totalSeconds % 60;
ย ย ย ย ย ย return `${formatujLiczbe(hours)}:${formatujLiczbe(minutes)}:${formatujLiczbe(seconds)}`;
ย ย ย ย }
ย ย ย ย function formatujDlugoscDnia(ms) {
ย ย ย ย ย ย let totalMinutes = Math.floor(Math.max(ms, 0) / (1000 * 60));
ย ย ย ย ย ย let hours = Math.floor(totalMinutes / 60);
ย ย ย ย ย ย let minutes = totalMinutes % 60;
ย ย ย ย ย ย return `${hours} godz. ${minutes} min.`;
ย ย ย ย }
ย ย ย ย function czyRokPrzestepny(rok) {
section>
ย ย ย ย ย ย return (rok % 4 === 0 && rok % 100 !== 0) || rok % 400 === 0;
ย ย ย ย }
ย ย ย ย function iloscTygodniWRoku(rok) {
ย ย ย ย ย ย return obliczNumerTygodnia(new Date(rok, 11, 28));
ย ย ย ย }
ย ย ย ย function obliczWielkanoc(rok) {
ย ย ย ย ย ย const a = rok % 19, b = Math.floor(rok / 100), c = rok % 100, d = Math.floor(b / 4), e = b % 4, f = Math.floor((b + 8) / 25), g = Math.floor((b - f + 1) / 3), h = (19 * a + b - d - g + 15) % 30, i = Math.floor(c / 4), k = c % 4, l = (32 + 2 * e + 2 * i - h - k) % 7, m = Math.floor((a + 11 * h + 22 * l) / 451), miesiac = Math.floor((h + l - 7 * m + 114) / 31), dzien = ((h + l - 7 * m + 114) % 31) + 1;
ย ย ย ย ย ย return new Date(rok, miesiac - 1, dzien);
ย ย ย ย }
ย ย ย ย function dodajDniDoDaty(data, dni) {
ย ย ย ย ย ย const nowaData = new Date(data);
ย ย ย ย ย ย nowaData.setDate(nowaData.getDate() + dni);
ย ย ย ย ย ย return nowaData;
ย ย ย ย }
ย ย ย ย function formatujDateNaKlucz(data) {
section>
ย ย ย ย ย ย return `${formatujLiczbe(data.getMonth() + 1)}-${formatujLiczbe(data.getDate())}`;
ย ย ย ย }
ย ย ย ย function pobierzInfoZodiaku(data) {
ย ย ย ย ย ย const dzien = data.getDate(), miesiac = data.getMonth() + 1;
ย ย ย ย ย ย let biezacyZnak = ZNAKI_ZODIAKU.find(znak => { return miesiac > znak.start[0] || (miesiac === znak.start[0] && dzien >= znak.start[1]); });
ย ย ย ย ย ย if (!biezacyZnak) { return ZNAKI_ZODIAKU[0]; }
ย ย ย ย ย ย return biezacyZnak;
ย ย ย ย }
ย ย ย ย function pobierzInfoKsiezyca(f) {
ย ย ย ย ย ย if (f <= 0.03 || f > 0.97) return { nazwa: 'Nรณw', emoji: '๐', index: 1 };
ย ย ย ย ย ย if (f <= 0.22) return { nazwa: 'Sierp przybywajฤcy', emoji: '๐', index: 2 };
ย ย ย ย ย ย if (f <= 0.28) return { nazwa: 'Pierwsza Kwadra', emoji: '๐', index: 3 };
ย ย ย ย ย ย if (f <= 0.47) return { nazwa: 'Garbaty przybywajฤcy', emoji: '๐', index: 4 };
ย ย ย ย ย ย if (f <= 0.53) return { nazwa: 'Peลnia', emoji: '๐', index: 5 };
ย ย ย ย ย ย if (f <= 0.72) return { nazwa: 'Garbaty ubywajฤcy', emoji: '๐', index: 6 };
ย ย ย ย ย ย if (f <= 0.78) return { nazwa: 'Ostatnia Kwadra', emoji: '๐', index: 7 };
ย ย ย ย ย ย return { nazwa: 'Sierp ubywajฤcy', emoji: '๐', index: 8 };
ย ย ย ย }
ย ย ย ย function obliczNastepnyZnak(teraz) {
ย ย ย ย ย ย const infoZodiaku = pobierzInfoZodiaku(teraz);
ย ย ย ย ย ย const obecnyIndex = ZNAKI_ZODIAKU.findIndex(z => z.nazwa === infoZodiaku.nazwa);
ย ย ย ย ย ย const nastepnyIndex = (obecnyIndex + 1) % ZNAKI_ZODIAKU.length;
ย ย ย ย ย ย const nastepnyZnak = ZNAKI_ZODIAKU[nastepnyIndex];
ย ย ย ย ย ย const rok = teraz.getFullYear();
ย ย ย ย ย ย let dataStartu = new Date(rok, nastepnyZnak.start[0] - 1, nastepnyZnak.start[1]);
ย ย ย ย ย ย if (dataStartu < teraz) {
ย ย ย ย ย ย ย ย dataStartu.setFullYear(rok + 1);
section>
ย ย ย ย ย ย }
ย ย ย ย ย ย const diffMs = dataStartu.getTime() - teraz.getTime();
ย ย ย ย ย ย const diffDni = Math.ceil(diffMs / (1000 * 60 * 60 * 24));
ย ย ย ย ย ย return { nazwa: nastepnyZnak.nazwa, dni: diffDni };
ย ย ย ย }
ย ย ย ย function obliczNastepnaPelnie(teraz) {
ย ย ย ย ย ย if (typeof SunCalc === 'undefined') return 'b/d';
ย ย ย ย ย ย let fazaPoprzednia = SunCalc.getMoonIllumination(teraz).phase;
ย ย ย ย ย ย let dataPetli = new Date(teraz.getTime());
ย ย ย ย ย ย for (let i = 0; i < 720; i++) {
ย ย ย ย ย ย ย ย dataPetli.setHours(dataPetli.getHours() + 1);
ย ย ย ย ย ย ย ย let fazaNowa = SunCalc.getMoonIllumination(dataPetli).phase;
ย ย ย ย ย ย ย ย if (fazaPoprzednia < 0.5 && fazaNowa >= 0.5) {
ย ย ย ย ย ย ย ย ย ย const diffMs = dataPetli.getTime() - teraz.getTime();
section>
ย ย ย ย ย ย ย ย ย ย const diffDni = Math.ceil(diffMs / (1000 * 60 * 60 * 24));
ย ย ย ย ย ย ย ย ย ย return diffDni;
ย ย ย ย ย ย ย ย }
ย ย ย ย ย ย ย ย fazaPoprzednia = fazaNowa;
ย ย ย ย ย ย }
ย ย ย ย ย ย return 'b/d';
ย ย ย ย }

ย ย ย ย // --- GลรWNE FUNKCJE APLIKACJI ---
section>
ย ย ย ย /* ... caลy (dลugi) blok gลรณwnych funkcji aplikacji ... */
ย ย ย ย function aktualizujDaneCodzienne(teraz) {
ย ย ย ย ย ย console.log("AKTUALIZACJA DANYCH CODZIENNYCH o " + teraz);
ย ย ย ย ย ย const rok = teraz.getFullYear();
ย ย ย ย ย ย let sunCalcDostepny = typeof SunCalc !== 'undefined';
ย ย ย ย ย ย if (sunCalcDostepny) {
ย ย ย ย ย ย ย ย const jutro = new Date(teraz);
ย ย ย ย ย ย ย ย jutro.setDate(teraz.getDate() + 1);
ย ย ย ย ย ย ย ย const daneDzis = SunCalc.getTimes(teraz, PABIANICE_LAT, PABIANICE_LON);
section>
ย ย ย ย ย ย ย ย const daneJutro = SunCalc.getTimes(jutro, PABIANICE_LAT, PABIANICE_LON);
ย ย ย ย ย ย ย ย window.wschodDzis = daneDzis.sunrise;
ย ย ย ย ย ย ย ย window.zachodDzis = daneDzis.sunset;
ย ย ย ย ย ย ย ย window.wschodJutro = daneJutro.sunrise;
ย ย ย ย ย ย ย ย if (window.wschodDzis && window.zachodDzis) {
ย ย ย ย ย ย ย ย ย ย const poprawnaDlugoscDniaMs = window.zachodDzis.getTime() - window.wschodDzis.getTime();
ย ย ย ย ย ย ย ย ย ย document.getElementById('czas-dnia').textContent = formatujDlugoscDnia(poprawnaDlugoscDniaMs);
ย ย ย ย ย ย ย ย } else {
ย ย ย ย ย ย ย ย ย ย document.getElementById('czas-dnia').textContent = "b/d";
section>
ย ย ย ย ย ย ย ย }
ย ย ย ย ย ย ย ย document.getElementById('wschod').textContent = formatujGodzine(window.wschodDzis);
ย ย ย ย ย ย ย ย document.getElementById('zachod').textContent = formatujGodzine(window.zachodDzis);
ย ย ย ย ย ย } else {
ย ย ย ย ย ย ย ย document.getElementById('wschod').textContent = "b/d";
ย ย ย ย ย ย ย ย document.getElementById('zachod').textContent = "b/d";
ย ย ย ย ย ย ย ย document.getElementById('czas-dnia').textContent = "b/d";
ย ย ย ย ย ย }
ย ย ย ย ย ย const dzienRoku = obliczDzienRoku(teraz);
ย ย ย ย ย ย const maxDniWRoku = czyRokPrzestepny(rok) ? 366 : 365;
ย ย ย ย ย ย const dniDoKonca = maxDniWRoku - dzienRoku;
ย ย ย ย ย ย const kwartal = obliczKwartal(teraz);
ย ย ย ย ย ย document.getElementById('dzien-roku').textContent = dzienRoku;
ย ย ย ย ย ย document.getElementById('max-dzien-roku').textContent = maxDniWRoku;
ย ย ย ย ย ย document.getElementById('dni-do-konca').textContent = dniDoKonca;
ย ย ย ย ย ย document.getElementById('tydzien-roku').textContent = obliczNumerTygodnia(teraz);
section>
ย ย ย ย ย ย document.getElementById('max-tydzien-roku').textContent = iloscTygodniWRoku(rok);
ย ย ย ย ย ย document.getElementById('kwartal').textContent = kwartal;
ย ย ย ย ย ย const dzisKlucz = formatujDateNaKlucz(teraz);
ย ย ย ย ย ย const wszystkieSwieta = [];
ย ย ย ย ย ย const swietoStale = SWIETA_STALE[dzisKlucz];
ย ย ย ย ย ย if (swietoStale) wszystkieSwieta.push(swietoStale);
ย ย ย ย ย ย if (!window.swietaRuchomeCache[rok]) {
ย ย ย ย ย ย ย ย const wielkanoc = obliczWielkanoc(rok);
section>
ย ย ย ย ย ย ย ย const ponWielkanocny = dodajDniDoDaty(wielkanoc, 1);
ย ย ย ย ย ย ย ย const zieloneSwiatki = dodajDniDoDaty(wielkanoc, 49);
ย ย ย ย ย ย ย ย const bozeCialo = dodajDniDoDaty(wielkanoc, 60);
ย ย ย ย ย ย ย ย window.swietaRuchomeCache[rok] = {};
ย ย ย ย ย ย ย ย window.swietaRuchomeCache[rok][formatujDateNaKlucz(wielkanoc)] = 'Niedziela Wielkanocna';
ย ย ย ย ย ย ย ย window.swietaRuchomeCache[rok][formatujDateNaKlucz(ponWielkanocny)] = 'Poniedziaลek Wielkanocny';
ย ย ย ย ย ย ย ย window.swietaRuchomeCache[rok][formatujDateNaKlucz(zieloneSwiatki)] = 'Zielone ลwiฤtki';
s<section>
ย ย ย ย ย ย ย ย window.swietaRuchomeCache[rok][formatujDateNaKlucz(bozeCialo)] = 'Boลผe Ciaลo';
ย ย ย ย ย ย }
ย ย ย ย ย ย const swietoRuchome = window.swietaRuchomeCache[rok][dzisKlucz];
ย ย ย ย ย ย if (swietoRuchome) wszystkieSwieta.push(swietoRuchome);
ย ย ย ย ย ย if(typeof SWIETA_NIETYPOWE_BAZA !== 'undefined') {
Section
ย ย ย ย ย ย ย ย const swietoNietypowe = SWIETA_NIETYPOWE_BAZA[dzisKlucz];
ย ย ย ย ย ย ย ย if (swietoNietypowe) wszystkieSwieta.push(swietoNietypowe);
ย ย ย ย ย ย }
ย ย ย ย ย ย document.getElementById('swieto').textContent =ย
ย ย ย ย ย ย ย ย wszystkieSwieta.length ? `(${wszystkieSwieta.join(', ')})` : "";
ย ย ย ย ย ย let imieniny = "b/d";
ย ย ย ย ย ย if (typeof IMIENINY_BAZA !== 'undefined') {
ย ย ย ย ย ย ย ย imieniny = IMIENINY_BAZA[dzisKlucz] || "brak";
section>
ย ย ย ย ย ย }
ย ย ย ย ย ย document.getElementById('imiona').textContent = imieniny;
ย ย ย ย ย ย const infoZodiaku = pobierzInfoZodiaku(teraz);
ย ย ย ย ย ย document.getElementById('zodiak-nazwa').textContent = infoZodiaku.nazwa;
section>
ย ย ย ย ย ย document.getElementById('zodiak-obraz').textContent = infoZodiaku.emoji;
ย ย ย ย ย ย if (sunCalcDostepny) {
ย ย ย ย ย ย ย ย const moonInfo = SunCalc.getMoonIllumination(teraz);
ย ย ย ย ย ย ย ย const infoKsiezyca = pobierzInfoKsiezyca(moonInfo.phase);
ย ย ย ย ย ย ย ย document.getElementById('faza-ksiezyca-nazwa').textContent = infoKsiezyca.nazwa;
ย ย ย ย ย ย ย ย document.getElementById('faza-ksiezyca-obraz').textContent = infoKsiezyca.emoji;
ย ย ย ย ย ย ย ย document.getElementById('faza-ksiezyca-numer').textContent = infoKsiezyca.index;
section>
ย ย ย ย ย ย } else {
ย ย ย ย ย ย ย ย document.getElementById('faza-ksiezyca-nazwa').textContent = "b/d";
ย ย ย ย ย ย ย ย document.getElementById('faza-ksiezyca-obraz').textContent = "๐ฐ๏ธ";
ย ย ย ย ย ย ย ย document.getElementById('faza-ksiezyca-numer').textContent = "?";
section>
ย ย ย ย ย ย }
ย _ ย ย ย ย const infoNastepnegoZnaku = obliczNastepnyZnak(teraz);
ย ย ย ย ย ย document.getElementById('zodiak-countdown-nazwa').textContent = infoNastepnegoZnaku.nazwa;
ย ย ย ย ย ย document.getElementById('zodiak-countdown-dni').textContent = infoNastepnegoZnaku.dni;
ย ย ย ย ย ย const dniDoPelni = obliczNastepnaPelnie(teraz);
ย ย ย ย ย ย document.getElementById('pelnia-countdown-dni').textContent = dniDoPelni;
ย ย ย ย }

ย ย ย ย function aktualizujZegar() {
ย ย ย ย ย ย const teraz = new Date();
ย ย ย ย ย ย const dzienNumer = teraz.getDate();
ย ย ย ย ย ย if (dzienNumer !== window.ostatniDzien) {
section>
ย ย ย ย ย ย ย ย aktualizujDaneCodzienne(teraz);
ย ย ย ย ย ย ย ย window.ostatniDzien = dzienNumer;
ย ย ย ย ย ย }
ย ย ย ย ย ย const nazwaDnia = DNI_TYGODNIA[teraz.getDay()];
ย ย ย ย ย ย document.getElementById('dzien').textContent = nazwaDnia;
ย ย ย ย ย ย const godzina = formatujLiczbe(teraz.getHours());
section>
ย ย ย ย ย ย const minuta = formatujLiczbe(teraz.getMinutes());
ย ย ย ย ย ย const sekunda = formatujLiczbe(teraz.getSeconds());
section>
ย ย ย ย ย ย const dzien = formatujLiczbe(teraz.getDate());
ย ย ย ย ย ย const miesiac = formatujLiczbe(teraz.getMonth() + 1);
ย ย ย ย ย ย const rok = String(teraz.getFullYear());
ย ย ย ย ย ย ustawCyfre('data-d1', dzien[0]);
ย ย ย ย ย ย ustawCyfre('data-d2', dzien[1]);
ย ย ย ย ย ย ustawCyfre('data-m1', miesiac[0]);
ย ย ba ย ย ย ustawCyfre('data-m2', miesiac[1]);
ย ย ย ย ย ย ustawCyfre('data-r1', rok[0]);
ย ย ย ย ย ย ustawCyfre('data-r2', rok[1]);
ย ย ย ย ย ย ustawCyfre('data-r3', rok[2]);
ย ย ย ย ย ย ustawCyfre('data-r4', rok[3]);
ย ย ย ย ย ย ustawCyfre('czas-h1', godzina[0]);
ย section>
ย ย ย ย ย ย ustawCyfre('czas-h2', godzina[1]);
ย ย ย ย ย ย ustawCyfre('czas-m1', minuta[0]);
ย ย ย ย ย ย ustawCyfre('czas-m2', minuta[1]);
ย ย ย ย ย ย ustawCyfre('czas-s1', sekunda[0]);
ย ย ย ย ย ย ustawCyfre('czas-s2', sekunda[1]);
ย ย ย ย ย ย const sekundaParzysta = teraz.getSeconds() % 2 === 0;
ย ย ย ย ย ย document.querySelectorAll('.mrugajacy').forEach(el => {
ย ย ย ย ย ย ย ย el.classList.toggle('wygaszony', sekundaParzysta);
ย ย ย ย ย ย });
ย ย ย ย ย ย let celCzasu, celTekst;
ย ย ย ย ย ย if (!window.wschodDzis || !window.zachodDzis || !window.wschodJutro) {
ย ย ย ย ย ย ย ย document.getElementById('odliczanie-slonca').textContent = (typeof SunCalc === 'undefined') ? "Brak SunCalc..." : "Inicjalizacja...";
ย ย ย ย ย ย ย ย return;
ย s ย ย ย ย }
ย ย ย ย ย ย if (teraz < window.wschodDzis) {
ย ย ย ย ย ย ย ย celCzasu = window.wschodDzis;
ย ย ย ย ย ย ย ย celTekst = "Wschรณd sลoลca za:";
ย ย ย ย ย ย } else if (teraz < window.zachodDzis) {
ย ย ย ย ย ย ย ย celCzasu = window.zachodDzis;
s
ย ย ย ย ย ย ย ย celTekst = "Zachรณd sลoลca za:";
ย ย ย ย ย ย } else {
ย ย ย ย ย ย ย ย celCzasu = window.wschodJutro;
ย ย ย ย ย ย ย ย celTekst = "Wschรณd sลoลca za:";
ย ย ย ย ย ย }
ย ย ย ย ย ย if (celCzasu && typeof celCzasu.getTime === 'function') {
ba
ย ย ย ย ย ย ย ย const deltaMs = celCzasu.getTime() - teraz.getTime();
ย ย ย ย ย ย ย ย document.getElementById('odliczanie-slonca').textContent =ย
ย ย ย ย ย ย ย ย ย ย `${celTekst} ${formatujDelteCzasu(deltaMs)}`;
ย ย ย ย ย ย } else {
ย ย ย ย ย ย ย ย ยdocument.getElementById('odliczanie-slonca').textContent = "Bลฤd czasu sลoลca...";
section>
ย ย ย ย ย ย }
ย ย ย ย }

ย ย ย ย // --- SEKCJA URUCHOMIENIOWA ---
ย ย ย ย inicjalizujZegar();ย
ย ย ย ย setTimeout(() => {
ย ย ย ย ย ย aktualizujZegar();ย
ย ย ย ย ย ย setInterval(aktualizujZegar, 1000);ย
ย ย ย ย }, 100);

ย ย ย ยย
ย ย ย ย /* KOMENTARZ (DLACZEGO?): Ten blok kodu jest NOWY.
section
ย ย ย ย ย Jego zadaniem jest zarejestrowanie pliku 'sw.js' (Service Worker).
ย ย ย ย ยย
ย ย ย ย ย 1. Sprawdza, czy przeglฤdarka w ogรณle wspiera Service Workeryย
ย ย ย s ย ย ย ('serviceWorker' in navigator).
ย ย ย ย ย 2. Jeลli tak, czeka aลผ strona siฤ zaลaduje ('load').
ย ย ย ย ย 3. Nastฤpnie prรณbuje zarejestrowaฤ plik 'sw.js'.
ย ย ย ย ย 4. Jeลli siฤ uda, wypisuje w konsoli sukces, jeลli nie - bลฤd.
s
ย ย ย ย ยย
ย ย ย ย ย Ten kod jest kluczowy, by aplikacja mogลa dziaลaฤ offline.
ย ย ย ย */
ย ย ย ย if ('serviceWorker' in navigator) {
ย ย ย ย ย window.addEventListener('load', () => {
ย ย ย ย ย ย navigator.serviceWorker.register('/sw.js')
ย ย ย ย ย ย ย .then(registration => {
ย ย ย ย ย ย ย ย console.log('Service Worker zarejestrowany pomyลlnie:', registration);
section>
ย ย ย ย ย ย ย })
ย ย ย ย ย ย ย .catch(error => {
ย ย ย ย ย ย ย ย console.log('Rejestracja Service Workera nie powiodลa siฤ:', error);
ย ย ย ย ย ย ย });
ย ย ย ย ย });
ย ย ย ย }
ย ย </script>

</body>
</html>
